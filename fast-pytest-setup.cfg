[tool:pytest]
# pytest configuration:
# https://docs.pytest.org/en/stable/customize.html

# pytest-django configuration:
# https://pytest-django.readthedocs.io/en/latest/
DJANGO_SETTINGS_MODULE = server.settings

# Timeout for tests, so they can not take longer
# than this amount of seconds.
# You should adjust this value to be as low as possible.
# Configuration:
# https://pypi.org/project/pytest-timeout/
timeout = 5

# Strict `@xfail` by default:
xfail_strict = true

# Directories that are not visited by pytest collector:
norecursedirs = *.egg .eggs dist build docs .tox .git __pycache__ frontend landing

# Some dependencies have deprecation warnings, we don't want to see them,
# but, we want to list them here:
filterwarnings =
  ignore::DeprecationWarning:password_reset.*:
  ignore::DeprecationWarning:pytest_freezegun:

# You will need to measure your tests speed with `-n auto` and without it,
# so you can see whether it gives you any performance gain, or just gives
# you an overhead. See `docs/template/development-process.rst`.
addopts =
  # -x
  --strict-markers
  --strict-config
  --doctest-modules
  # --fail-on-template-vars
  # Output:
  --tb=short
  # Parallelism:
  # -n auto
  # --boxed
  # Coverage:
  # --cov=server
  # --cov=tests
  # --cov-branch
  # --cov-report=term-missing:skip-covered
  # --cov-report=html
  # --cov-report=xml
  # --cov-fail-under=0
